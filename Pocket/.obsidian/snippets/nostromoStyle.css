/* 1. Use Google Fonts for VT323 */
@import url('https://fonts.googleapis.com/css2?family=VT323&display=swap');

/* 2. Apply VT323 to YAML frontmatter block in preview and source modes */
.cm-s-obsidian .cm-hmd-frontmatter, /* Source mode */
.markdown-preview-section .frontmatter,
.markdown-rendered .frontmatter,
.markdown-source-view .cm-hmd-frontmatter {
  font-family: 'VT323', monospace !important;
  font-size: 1.05em;
  background: rgba(0,0,0,0.03);
  letter-spacing: 0.01em;
}

/* 3. Apply VT323, color, scanline/terminal effects to codeblocks and inline code */
.markdown-rendered pre,
.markdown-rendered code,
.markdown-preview-section code,
.cm-s-obsidian span.cm-inline-code,
.cm-s-obsidian pre.HyperMD-codeblock {
  font-family: 'VT323', monospace !important;
  font-size: 1.14em;
  background: #101711 !important;
  color: #b7fc2a !important; /* green/amber terminal tone */
  border: 1px solid #233a1d !important;
  border-radius: 4px !important;
  text-shadow: 0 0 2px #4eb838, 0 0 16px #233a1d;
  box-shadow: 0 2px 18px #0e250e7a inset;
}

/* 4. Soft scanline flicker effect overlay for all code blocks */
.markdown-rendered pre {
  position: relative;
  overflow: hidden;
}

.markdown-rendered pre::before {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  opacity: 0.10;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 2px,
    #b7fc2a17 3px,
    transparent 4px,
    transparent 6px
  );
  z-index: 2;
  animation: vt323-scanline-flicker 2.2s infinite steps(3);
}

@keyframes vt323-scanline-flicker {
  0%, 100% { opacity: 0.13;}
  50% { opacity: 0.2;}
}

/* 5. Cursor/caret blink for code editors using VT323 */
.cm-s-obsidian .cm-cursor {
  border-left: 2px solid #b7fc2a !important;
  animation: vt323-cursor-blink 1.1s steps(1) infinite;
}
@keyframes vt323-cursor-blink {
  0%, 49% { border-color:#b7fc2a; }
  50%, 100% { border-color: transparent;}
}

/* 6. Terminal color for codeblock tool bar or copy button if any */
.markdown-rendered .copy-code-button {
  font-family: 'VT323', monospace !important;
  background: #233a1d !important;
  color: #b7fc2a !important;
  border: 1px solid #4eb838 !important;
  border-radius: 3px;
  box-shadow: 0 0 3px #233a1d;
  text-transform: uppercase;
}

/* 7. Inline code should stand out but remain inline */
.markdown-rendered code,
.markdown-preview-section code {
  padding: 0.09em 0.33em;
  font-size: 1.08em;
  background: #112010;
  color: #b7fc2a !important;
  border-radius: 3px;
}

/* 8. Emphasis for codeblock language indicators, optional */
.markdown-rendered pre[class*="language-"]::before {
  font-family: 'VT323', monospace !important;
  font-size: 0.93em;
  letter-spacing: 0.05em;
  color: #96de39;
  background: #111a0a !important;
  box-shadow: 0 0 2px #b7fc2a81;
}
